<!DOCTYPE html>
<html class="no-js" lang="en" ng-app="Taotaobao">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>淘淘看 3.0</title>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-route.js"></script>
	<script src="js/ui-bootstrap-tpls-0.9.0.min.js"></script>
	<script src="js/app.js"></script>

	<style type="text/css" media="screen">
		.nav, .pagination, .carousel, .panel-title a { cursor: pointer; }
	</style>

	<script>/*
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-45207212-1', 'site44.com');
		ga('send', 'pageview');

	*/</script>

</head>
<body ng-controller="Ctrl">

	<!-- intro -->
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<h1>淘淘看 3.0 <small>淘寶網團購快速價格統計APP。</small></h1>
			</div>
		</div>
	</div>

	<!-- main -->
	<div class="container">
		<div class="row">
			<div class="col-sm-4">
				<!-- input field -->
				<form class="form" role="form">
					<h2>基本資訊</h2>
					<div class="form-group">
				    <label for="currencyRate">人民幣對新台幣匯率</label>
				    <input id="currencyRate" type="number" class="form-control" ng-model="currencyRate" placeholder="人民幣對新台幣匯率" required/>
					</div>
					<div class="form-group">
						<button type="button" class="btn btn-primary btn-xs" ng-click="getCurrencyRate()">線上更新匯率</button>
						<span>{{currencyStatus}}</span>
						<span ng-show="showCurrencyTip"></span>
						<label>
							<input type="checkbox" ng-model="disabledSetCurrencyRate" ng-change="changeCurrencyType()" /> 使用新台幣計算
						</label>
					</div>
					<div class="form-group">
						<label for="name">項目名稱</label>
						<input id="name" type="text" class="form-control" ng-model="name" ng-init="name='高領毛衣'" min='0'/>
					</div>
					<div class="form-group">
						<label for="number">數量（件）</label>
						<input id="number" type="number" class="form-control" ng-model="number" ng-init="number=1" min='0' required/>
					</div>
					<div class="form-group">
						<label for="unitPrice">單價（人民幣）</label>
						<input id="unitPrice" type="number" class="form-control" ng-model="unitPrice" min='0' required/>
					</div>
					<div class="form-group">
						<label for="unitWeight">每件淨重（公克）</label>
						<input id="unitWeight" type="number" class="form-control" ng-model="unitWeight" ng-init="unitWeight=100" ng-disabled="shippingMethod.disabledSetUnitWeight" min='0' required/>
					</div>
					<div class="form-group">
						<label for="shippingMethod">運費計算</label>
						<select class="form-control" ng-model="shippingMethod" ng-options="i.name for i in shippingMethods"></select>
						<div ng-hide="shippingMethod.hide">
							<div class="row">
								<div class="col-sm-6">
									<input type="number" class="form-control" ng-model="shipping" min='0' required/>
								</div>
								<div class="col-sm-6">
									<p class="form-control-static">{{currencyType}}</p>
								</div>
							</div> <!-- row -->
						</div> <!-- ng-hide -->
					</div> <!-- form-group -->
					<p class="bg-info">
						項目名稱：{{name}} <br/>
						價錢 <em>{{price() + portage() | currency:"NTD$ "}} </em> <br/> =
						商品 <em>{{price() | currency:"NTD$ "}}</em> +
						運費 <em>{{portage() | currency:"NTD$ "}}</em>
					</p>
					<div class="form-group">
						<button type="button" class="btn btn-primary btn-block" ng-click="addPurchase()">將資料加入表單</button>
					</div>
			</div> <!-- col-sm-4 -->
		</div> <!-- row -->
	</div> <!-- container -->


	<div id="outer-wrap">

		<div id="main-wrap">
			<div id="displayItem">
			<h3>商品資訊列表</h3>
				<input type="button" ng-click="archive()" value="隱藏刪除的項目"/>
				<table class="displayItemTable">
					<thead>
						<tr>
							<th style="width:30px;">刪除</th>
							<th style="width:30px;">編號</th>
							<th style="width:90px;">項目名稱</th>
							<th style="width:110px;">價錢 <a class="tip" title="為右欄「商品」與「運費」加總的結果" ui-jq="tooltip"><img src="img/question_white.png"/></a></th>
							<th>商品</th>
							<th>運費</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="purchase in purchases" class="removed-{{purchase.removed}}">
							<td><input type="checkbox" ng-model="purchase.removed"></td>
							<td>{{$index+1}}</td>
							<td>{{purchase.name}}</td>
							<td>{{purchase.price + purchase.portage | currency:"NTD$ "}}</td>
							<td>{{purchase.price | currency:"NTD$ "}}<br/>
							（數量：{{purchase.number}}；單價：{{purchase.unitPrice | currency:"NTD $"}}）</td>
							<td>
								{{purchase.portage | currency:"NTD$ "}}<br/>
								（計算方式：{{purchase.shippingMethod.name}}
								<span ng-hide="purchase.shippingMethod.value >= 2">{{purchase.shipping | currency:"NTD $"}}</span>
								）
							</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<td colspan="6">
								包含上述 {{remaining()}} 個項目，總價：{{priceSum()+portageSum() | currency:"NTD$ "}}（商品共：{{priceSum() | currency:"NTD$ "}}；運費共：{{portageSum() | currency:"NTD$ "}}；共 {{numberSum()}} 件商品）
							</td>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
	</div>
</body>
</html>
